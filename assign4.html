<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
    integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/assignment4.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script> 
    <script
      src="https://cdn.jsdelivr.net/npm/underscore@1.13.6/underscore-umd-min.js"></script>

      <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.1/backbone.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>Assignment-4</title>
</head>
<body>
    <div id="container"></div>
        <script type="text/template" id="viewOne">
            <a class='close'>X</a>
            <br>
            <h2>Edit Goods recieving hours for Ship To :-</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Similique sit aspernatur quidem voluptas! 
                Consectetur dignissimos eius dicta suscipit officia, porro minima cumque, corrupti esse vitae ipsum sapiente? 
                Harum, dolorum pariatur. Lorem, ipsum dolor sit amet consectetur adipisicing elit. Minima praesentium odio numquam aspernatur,
                amet consequatur sapiente aliquid veritatis ipsa nisi maiores ab obcaecati magnam consectetur dolore,
                 ratione reprehenderit deserunt. Magni. Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquid dolorum sunt, 
                 tempora earum perspiciatis exercitationem deserunt consequatur distinctio a similique voluptatibus temporibus nihil fugiat voluptatem cum ipsam qui? Maiores, 
                 laudantium. Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla quae consectetur atque, 
                 corrupti assumenda eaque earum commodi consequuntur laboriosam sunt dolorem et ipsa accusantium iure tempore numquam excepturi doloribus vel?</p>
    
                

                <form>
                    <input type="radio" name="option" value="option1" id='option1'> <label for="option1">Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt earum non doloribus assumenda voluptate explicabo .</label><br>
                    <input type="radio" name="option" value="option2" id='option2'><label for="option2"> Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt earum non doloribus assumenda voluptate explicabo .</label>               
                </form>
                <br>
                <hr>
             
                    <table id='editTable'>
                        <tbody>
                            <th style='border:none'></th>
                            <th>morgens&nbsp;</th>
                            <th>nachmittags&nbsp;</th>
                        </tbody>
                        <% _.each(collection,function(user){ %>
                            <tbody>
                                <td><%= user.name %> </td>
                                <td>
                                    <input type="time" name="" id="" value='<%= user.from %>'> 
                                    <input type="time" name="" id="" value='<%= user.to %>'>
                                </td>
                                <td>
                                    <input type="time" name="" id="" value='<%= user.nextFrom %>'> 
                                    <input type="time" name="" id="" value='<%= user.nextTo %>'>
                                </td>
                            </tbody>
                       <% }) %>
                        <!-- <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='20:13'> 
                                <input type="time" name="" id="" value='08:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='19:13'> 
                                <input type="time" name="" id="" value='07:13'>
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='18:13'> 
                                <input type="time" name="" id="" value='06:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='17:13'> 
                                <input type="time" name="" id="" value='05:13'>
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='16:13'> 
                                <input type="time" name="" id="" value='04:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='15:13'> 
                                <input type="time" name="" id="" value='03:13'> 
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='14:13'> 
                                <input type="time" name="" id="" value='02:13'> 
                            </td>
                            <td>
                                <input type="time" name="" id="" value='13:13'> 
                                <input type="time" name="" id="" value='01:13'> 
                            </td>
                        </tbody> -->
                    </table>
                    <p>549324 ....... Lorem ipsum dolor, sit amet consectetur adipisicing elit. Omnis sint blanditiis similique iusto quis id numquam molestiae, 
                        accusamus dicta, rem vitae ab totam consequatur quos, quod laboriosam ipsum asperiores explicabo.</p><br>
                        <button id='saveBtn' class='btn btn-primary'>Save</button>


                <div id='editContent'></div>
              
        </script>

        <script type="text/template" id="viewTwo">
            <h2>Goods Receiving Hours</h2>
            <br>
            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Aut inventore aliquid quisquam sint, odit deleniti 
                unde quia consequatur odio soluta dolores corporis sit, quam fugiat iure culpa cupiditate nesciunt non? 
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident asperiores nisi aut. Quod quibusdam a asperiores 
                necessitatibus repudiandae reprehenderit nobis aperiam magnam beatae odio! Ab, fuga. Corporis amet voluptas similique.
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Nesciunt modi ex consectetur ipsa quibusdam fugiat repellendus
                earum vel fuga magnam. Ex aperiam amet mollitia fugit pariatur quam totam voluptatum sequi.
            </p>
            <br>
            <h3>Sold-to</h3>
            <select name="" id="soldTo" >
                    <option value="lorem1">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                    <option value="lorem2">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                    <option value="lorem3">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                </select>
                <h3>Ship-to</h3>
                <select name="" id="soldTo" >
                    <option value="lorem1">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                    <option value="lorem2">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                    <option value="lorem3">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sed necessitatibus, optio ex est odio!</option>
                </select>
                <div class='col-lg-12'>
                    <table id='mainTable'>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='20:13'> 
                                <input type="time" name="" id="" value='08:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='19:13'> 
                                <input type="time" name="" id="" value='07:13'>
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='18:13'> 
                                <input type="time" name="" id="" value='06:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='17:13'> 
                                <input type="time" name="" id="" value='05:13'>
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='16:13'> 
                                <input type="time" name="" id="" value='04:13'>
                            </td>
                            <td>
                                <input type="time" name="" id="" value='15:13'> 
                                <input type="time" name="" id="" value='03:13'> 
                            </td>
                        </tbody>
                        <tbody>
                            <td>dwgboaj</td>
                            <td>
                                <input type="time" name="" id="" value='14:13'> 
                                <input type="time" name="" id="" value='02:13'> 
                            </td>
                            <td>
                                <input type="time" name="" id="" value='13:13'> 
                                <input type="time" name="" id="" value='01:13'> 
                            </td>
                        </tbody>
                    </table>

                </div>
        </script>

        <script>
$(document).ready(function(){

    var data;
    var MyModel = Backbone.Model.extend({
        url: './data/assign4.json', // URL or file path of the JSON data

        initialize: function () {
            this.fetch({
                success: function (model, response) {
                    // JSON data has been successfully fetched
                    data = response.data;
                    model.set(data)
                    console.log(model);
                },
                error: function (model, response) {
                    // Error occurred while fetching JSON data
                    console.error('Error fetching JSON data:', response);
                }
            });
        }
    });
   
            var View1 = Backbone.View.extend({
               
                el:"#container",
                
                template:_.template($('#viewOne').html()),
                initialize:function(){
                    var self = this;
                    this.model = new MyModel();
                    this.model.fetch({
                        success: function (model, response) {
                            // JSON data has been successfully fetched
                            data = response.data
                            model.set(data);
                            console.log(response.data)
                            self.render();
                        },
                        error: function (model, response) {
                            // Error occurred while fetching JSON data
                            console.error('Error fetching JSON data:', response);
                        }
                    });
                    if(this.model.toJSON()!={}){

                        this.render();
                    }
                },
                render:function(){
                    console.log("view 1 render")
                    this.$el.html(this.template({collection:this.model.toJSON()}));
                    // console.log(this.model.toJSON())
        
                },
            });


            var view2 = Backbone.View.extend({
                el:"#container",
                template:_.template($('#viewTwo').html()),
                initialize:function(){
                    this.render()
                },
                
                render:function(){
                    this.$el.html(this.template())
                },
            })

            var routes = Backbone.Router.extend({
                routes:{
                    '':'showData',
                    'view1':'showEdit'
                },
                showData:function(){
                    var myModel = new MyModel();
                    var viewVon = new View1({model:myModel});
                },
                showEdit:function(){
                    var viewVon2= new view2();
                }
            });
            var routers = new routes();
            Backbone.history.start(); 

            // var View2 = Backbone.View.extend({
            //     el:".container",
            //     template1:_.template($('#viewTwo').html()),
            //     initialize:function(){
            //         this.render();
            //     },
            //     render:function(){
            //         console.log("view 1 render")
            //         this.$el.html(this.template1());
            //     },
            // });
            // var viewTow = new View2();
        })
        </script>
    
</body>
</html>